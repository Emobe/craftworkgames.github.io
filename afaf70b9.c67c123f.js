(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{78:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return i})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return p}));var a=r(2),n=r(6),o=(r(0),r(89)),i={id:"cameras",title:"Cameras",sidebar_label:"Cameras"},c={unversionedId:"features/cameras/cameras",id:"features/cameras/cameras",isDocsHomePage:!1,title:"Cameras",description:"Orthographic Camera",source:"@site/docs\\features\\cameras\\cameras.md",slug:"/features/cameras/cameras",permalink:"/docs/features/cameras/cameras",editUrl:"https://github.com/craftworkgames/craftworkgames.github.io/tree/develop/docs/features/cameras/cameras.md",version:"current",sidebar_label:"Cameras",sidebar:"docs",previous:{title:"Bitmap Font",permalink:"/docs/features/bitmap-font/bitmap-font"},next:{title:"Animations",permalink:"/docs/features/animations/animations"}},s=[{value:"Orthographic Camera",id:"orthographic-camera",children:[]},{value:"Further Reading",id:"further-reading",children:[]}],m={rightToc:s};function p(e){var t=e.components,r=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},m,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"orthographic-camera"},"Orthographic Camera"),Object(o.b)("p",null,"The purpose of the camera is to create a transformation matrix that changes the way a sprite batch is rendered."),Object(o.b)("p",null,"To create a camera initialize an instance of it using one of the constructor overloads. It's recommended that you used a viewport adapter to scale the screen but you don't have to."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),"private OrthographicCamera _camera;\n\nprotected override void Initialize()\n{\n    base.Initialize();\n\n    var viewportAdapter = new BoxingViewportAdapter(Window, GraphicsDevice, 800, 480);\n    _camera = new OrthographicCamera(viewportAdapter);\n}\n")),Object(o.b)("p",null,"Next you'll need to apply the camera's view matrix to one or more of the ",Object(o.b)("inlineCode",{parentName:"p"},"SpriteBatch.Begin")," calls in your ",Object(o.b)("inlineCode",{parentName:"p"},"Draw")," method."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),"protected override void Draw(GameTime gameTime)\n{\n    var transformMatrix = _camera.GetViewMatrix();\n    _spriteBatch.Begin(transformMatrix: transformMatrix);\n    _spriteBatch.DrawRectangle(new RectangleF(250,250,50,50), Color.Black, 1f);\n    _spriteBatch.End();\n}\n")),Object(o.b)("p",null,"A ",Object(o.b)("inlineCode",{parentName:"p"},"TransformationMatrix")," is one of the parameters of a ",Object(o.b)("inlineCode",{parentName:"p"},"SpriteBatch.Begin")," call."),Object(o.b)("p",null,"The transformation matrix is used for scale, rotate, and translate options.\nIn other words, we use the camera to transform the way a batch of sprites is rendered to the screen without actually modifying their positions, rotations, or scales directly. This creates the effect of having a camera looking at your scene that can move, rotate, and zoom in and out."),Object(o.b)("p",null,"Once you've got a camera instance in your game you'll probably want to move it around in the ",Object(o.b)("inlineCode",{parentName:"p"},"Update")," method somehow. For example, you could move the camera's position with the arrow keys."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),"private Vector2 GetMovementDirection()\n{\n    var movementDirection = Vector2.Zero;\n    var state = Keyboard.GetState();\n    if (state.IsKeyDown(Keys.Down))\n    {\n        movementDirection += Vector2.UnitY;\n    }\n    if (state.IsKeyDown(Keys.Up))\n    {\n        movementDirection -= Vector2.UnitY;\n    }\n    if (state.IsKeyDown(Keys.Left))\n    {\n        movementDirection -= Vector2.UnitX;\n    }\n    if (state.IsKeyDown(Keys.Right))\n    {\n        movementDirection += Vector2.UnitX;\n    }\n    return movementDirection;\n}\n\nprotected override void Update(GameTime gameTime)\n{\n    const float movementSpeed = 200;\n    _camera.Move(GetMovementDirection() * movementSpeed * gameTime.GetElapsedSeconds());\n}\n")),Object(o.b)("p",null,"Last but not least, there'll be times when you want to convert from screen coordinates to world coordinates and visa-vera.  For example, if you want to know which sprite is under the mouse you'll need to convert the mouse position back into the world position that was used to position the sprite in the first place."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),"var mouseState = Mouse.GetState();\n_worldPosition = _camera.ScreenToWorld(new Vector2(mouseState.X, mouseState.Y));\n")),Object(o.b)("h2",{id:"further-reading"},"Further Reading"),Object(o.b)("p",null,Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://stevehazen.wordpress.com/2010/02/15/matrix-basics-how-to-step-away-from-storing-an-orientation-as-3-angles/"}),"Matrix Basics")))}p.isMDXComponent=!0},89:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return b}));var a=r(0),n=r.n(a);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var m=n.a.createContext({}),p=function(e){var t=n.a.useContext(m),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},l=function(e){var t=p(e.components);return n.a.createElement(m.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},d=n.a.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),l=p(r),d=a,b=l["".concat(i,".").concat(d)]||l[d]||u[d]||o;return r?n.a.createElement(b,c(c({ref:t},m),{},{components:r})):n.a.createElement(b,c({ref:t},m))}));function b(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var m=2;m<o;m++)i[m]=r[m];return n.a.createElement.apply(null,i)}return n.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"}}]);